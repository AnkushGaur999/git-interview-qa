## ğŸ”„ Undoing Changes in Git

Sometimes you make mistakes â€” Git gives you multiple tools to undo them, depending on **what** and **where** you want to undo.

---

### ğŸ”¹ 1. `git restore` â€“ **Undo File Changes (Working Directory)**

âœ… Introduced in Git 2.23 to simplify undoing local changes.

| Action                        | Command                             |
| ----------------------------- | ----------------------------------- |
| Discard changes in a file     | `git restore filename.txt`          |
| Unstage a file (keep changes) | `git restore --staged filename.txt` |

ğŸ§  Use when:

* You want to discard or unstage changes **before commit**.

---

### ğŸ”¹ 2. `git reset` â€“ **Move Commits or Unstage Changes**

| Mode      | Keeps Files? | Keeps Index? | Description                           |
| --------- | ------------ | ------------ | ------------------------------------- |
| `--soft`  | âœ… Yes        | âœ… Yes        | Moves HEAD only, keeps changes staged |
| `--mixed` | âœ… Yes        | âŒ No         | Unstages files, keeps changes         |
| `--hard`  | âŒ No         | âŒ No         | **Dangerous!** Resets everything      |

#### Examples:

```bash
git reset --soft HEAD~1   # Move back 1 commit, keep changes staged
git reset --mixed HEAD~1  # Move back 1 commit, keep changes unstaged
git reset --hard HEAD~1   # Move back 1 commit and delete changes
```

> âš ï¸ `--hard` permanently deletes local changes.

---

### ğŸ”¹ 3. `git revert` â€“ **Undo a Commit (Safely)**

Creates a **new commit** that reverses the changes from a previous one.

```bash
git revert <commit-hash>
```

âœ… Safe for shared/public branches because history isnâ€™t rewritten.

ğŸ§  Use when:

* Youâ€™ve pushed a commit and need to undo it **without altering history**.

---

### ğŸ”¹ 4. `git clean` â€“ **Remove Untracked Files**

Removes files that are **not tracked** by Git (not staged or committed).

```bash
git clean -n    # Preview what will be deleted
git clean -f    # Delete untracked files
git clean -fd   # Delete untracked files and directories
```

âš ï¸ Use with care â€“ this is irreversible unless backed up.

---

## ğŸ“ Summary Table

| Command               | Purpose                             | Safe? | Scope                    |
| --------------------- | ----------------------------------- | ----- | ------------------------ |
| `git restore`         | Discard or unstage changes in files | âœ…     | Working directory        |
| `git reset --soft`    | Undo commit, keep staged changes    | âš ï¸    | HEAD and index           |
| `git reset --mixed`   | Undo commit, keep changes unstaged  | âš ï¸    | HEAD only                |
| `git reset --hard`    | Delete commits and changes          | âŒ     | HEAD, index, working dir |
| `git revert <commit>` | Safely undo a commit with a new one | âœ…     | Commit history           |
| `git clean -f`        | Delete untracked files              | âŒ     | Working directory        |

---

